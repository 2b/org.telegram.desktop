diff --git a/Telegram/SourceFiles/core/sandbox.cpp b/Telegram/SourceFiles/core/sandbox.cpp
index 762fd66d6..cdc79cf8f 100644
--- a/Telegram/SourceFiles/core/sandbox.cpp
+++ b/Telegram/SourceFiles/core/sandbox.cpp
@@ -99,7 +99,7 @@ int Sandbox::start() {
 	char h[33] = { 0 };
 	hashMd5Hex(d.constData(), d.size(), h);
 #ifndef OS_MAC_STORE
-	_localServerName = psServerPrefix() + h + '-' + cGUIDStr();
+	_localServerName = psServerPrefix() + h;
 #else // OS_MAC_STORE
 	h[4] = 0; // use only first 4 chars
 	_localServerName = psServerPrefix() + h;
diff --git a/Telegram/SourceFiles/platform/linux/specific_linux.h b/Telegram/SourceFiles/platform/linux/specific_linux.h
index 1aa1471da..6c4b8f7cb 100644
--- a/Telegram/SourceFiles/platform/linux/specific_linux.h
+++ b/Telegram/SourceFiles/platform/linux/specific_linux.h
@@ -10,6 +10,7 @@ https://github.com/telegramdesktop/tdesktop/blob/master/LEGAL
 #include "platform/platform_specific.h"
 
 #include <signal.h>
+#include <QStandardPaths>
 
 namespace Data {
 class LocationPoint;
@@ -32,7 +33,7 @@ inline void IgnoreApplicationActivationRightNow() {
 } // namespace Platform
 
 inline QString psServerPrefix() {
-	return qsl("/tmp/");
+	return QStandardPaths::writableLocation(QStandardPaths::GenericCacheLocation) + qsl("/tmp/");
 }
 inline void psCheckLocalSocket(const QString &serverName) {
 	QFile address(serverName);
